{% extends "base.html" %}

{% block content %}
<div class="container vh-100 d-flex justify-content-center align-items-center bg-light">
    <div class="border container px-0 d-flex justify-content-between rounded-20 overflow-hidden shadow w-50">
        
        <form method="post" class="w-100 bg-white px-5 py-4" enctype="multipart/form-data">
            {% csrf_token %}
            {% comment %} <h1 class="fs-3 fw-bold">INSTRUCTO</h1> {% endcomment %}
            <div class="d-flex flex-column align-items-start py-4 px-5">
                <h1 class="fs-1 fw-bold">Register</h1>
                <p class="">Fill out the form to create an account</p>

                {% if form.errors %}
                    <div class="fs-10 text-danger">
                        {% for field, errors in form.errors.items %}
                        <p class="">{{ field }}: {{ errors }}</p>
                        {% endfor %}
                    </div>
                {% endif %}

                <div class="mt-4 mb-2 w-100 d-flex justify-content-between">
                    <p class="fw-600">Type of account:</p>
                    <div class="d-flex gap-3">
                        <div>
                            <input name="account_type" id="teacher" type="radio" value="teacher" />
                            <label for="teacher">Teacher</label>
                        </div>
                        <div>
                            <input name="account_type" id="student" type="radio" value="student" />
                            <label for="student">Student</label>
                        </div>
                    </div>
                </div>

                <div class="mt-1">
                    <label for="formFile" class="form-label fw-600">Profile Picture</label>
                    <input class="form-control" name="profile_picture" type="file" id="formFile">
                  </div>

                <div class="d-flex gap-2">
                    <div class="mt-4 w-100">
                        <label for="{{ form.first_name.id_for_label }}" class="form-label fw-600">First Name</label>
                        <input 
                            type="text" 
                            name="{{ form.first_name.name }}" 
                            id="{{ form.first_name.id_for_label }}"
                            value="{{ form.first_name.value|default:'' }}" 
                            class="form-control w-100" 
                            placeholder="First Name" 
                            required
                        />
                        {% if form.first_name.errors %}
                            <p class="fs-10 text-danger">{{ form.first_name.errors.0 }}</p>
                        {% endif %}
                    </div>
                    <div class="mt-4 w-100">
                        <label for="{{ form.last_name.id_for_label }}" class="form-label fw-600">Last Name</label>
                        <input 
                            type="text" 
                            name="{{ form.last_name.name }}" 
                            id="{{ form.last_name.id_for_label }}"
                            value="{{ form.last_name.value|default:'' }}" 
                            class="form-control w-100" 
                            placeholder="Last Name" 
                            required
                        />
                        {% if form.last_name.errors %}
                            <p class="fs-10 text-danger">{{ form.last_name.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
                <div class="d-flex gap-3">
                    <div class="mt-4 w-100">
                        <label for="{{ form.username.id_for_label }}" class="form-label fw-600">Username</label>
                        <div class="input-group">
                            <span class="input-group-text">@</span>
                            <input 
                                type="text" 
                                name="{{ form.username.name }}" 
                                id="{{ form.username.id_for_label }}"
                                value="{{ form.username.value|default:'' }}" 
                                class="form-control" 
                                placeholder="Username" 
                                required
                            />
                            {% if form.username.errors %}
                                <p class="fs-10 text-danger">{{ form.username.errors.0 }}</p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="mt-4 w-100">
                        <label for="{{ form.date_of_birth.id_for_label }}" class="form-label fw-600">Date of birth</label>
                        <input 
                            type="date" 
                            name="{{ form.date_of_birth.name }}" 
                            id="{{ form.date_of_birth.id_for_label }}"
                            value="{{ form.date_of_birth.value|default:'' }}" 
                            class="form-control w-100" 
                            required
                        />
                        {% if form.date_of_birth.errors %}
                            <p class="fs-10 text-danger">{{ form.date_of_birth.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>

                

                <div class="d-flex gap-3">
                    <div class="mt-4 w-100">
                        <label for="{{ form.city.id_for_label }}" class="form-label fw-600">Locality</label>
                        <input 
                            type="text" 
                            name="{{ form.city.name }}" 
                            id="{{ form.city.id_for_label }}"
                            value="{{ form.city.value|default:'' }}" 
                            class="form-control w-100" 
                            placeholder="Locality" 
                            required/
                        />
                        {% if form.city.errors %}
                            <p class="fs-10 text-danger">{{ form.city.errors.0 }}</p>
                        {% endif %}
                    </div>
                    <div class="mt-4 w-100">
                        <label for="{{ form.country.id_for_label }}" class="form-label fw-600">Country</label>
                        <input 
                            type="text" 
                            name="{{ form.country.name }}" 
                            id="{{ form.country.id_for_label }}"
                            value="{{ form.country.value|default:'' }}" 
                            class="form-control w-100"
                             placeholder="Country" 
                             required
                        />
                        {% if form.country.errors %}
                            <p class="fs-10 text-danger">{{ form.country.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>

                <div class="mt-4 w-100">
                    <label for="{{ form.email.id_for_label }}" class="form-label fw-600">Email address</label>
                    <input 
                        type="email" 
                        name="{{ form.email.name }}" 
                        id="{{ form.email.id_for_label }}"
                        value="{{ form.email.value|default:'' }}" 
                        class="form-control w-100" 
                        placeholder="name@example.com" 
                        required
                    />
                    {% if form.email.errors %}
                            <p class="fs-10 text-danger">{{ form.email.errors.0 }}</p>
                    {% endif %}
                </div>
                
                <div class="d-flex gap-3">
                    <div class="mt-3 w-100">
                        <label for="{{ form.passowrd1.id_for_label }}" class="form-label fw-600">Password</label>
                        <input 
                            type="password" 
                            name="{{ form.password1.name }}" 
                            id="{{ form.passowrd1.id_for_label }}" 
                            class="form-control w-100 mb-2"
                            placeholder="Password" 
                            required
                        />
                        
                    </div>
                    <div class="mt-3 w-100">
                        <label for="{{ form.passowrd2.id_for_label }}" class="form-label fw-600">Confirm Your Password</label>
                        <input 
                            type="password" 
                            name="{{ form.password2.name }}" 
                            id="{{ form.passowrd2.id_for_label }}"
                            class="form-control w-100 mb-2" 
                            placeholder="Repeat Password" 
                            required
                        />
                    </div>
                </div>
                
                {% if form.password1.errors %}
                    <p class="fs-10 text-danger">{{ form.password1.errors.0 }}</p>
                {% endif %}
                <div>

                </div>

                <button type="submit" class="mt-5 mb-4 btn text-white rounded-pill w-100 py-2 bg-black">Sign Up</button>
                <p class="fs-10 ml-auto">Have an account? <a href="{% url 'users:signIn_view' %}" class="text-primary">Sign in</a></p>
            </div>
        </form>
    </div>
</div>
{% endblock %}